# 清除所有曲线功能快速参考

## ? 功能

一键清除所有曲线、步骤、USV 数据和 3D 视图标签

---

## ?? 使用方法

```
菜单 → 曲线 → 清除所有
```

---

## ?? 清除内容

### 会被清除

```
? 曲线列表
? 步骤列表
? USV 详细数据
? 3D 曲线线条
? 3D 曲线点
? 3D 曲线标签
? 3D 步骤标签
? 3D 步骤高亮
```

### 不会被清除

```
? 3D 网格
? 3D 坐标系
? 视图设置
? 放样点数设置
? 合并容差设置
```

---

## ?? 执行流程

```
1. 点击"清除所有"
   ↓
2. 确认对话框
   "确定要清除所有 X 条曲线吗？
    这将同时清除所有步骤和 USV 数据。"
   ↓
3. 点击"确定"
   ↓
4. 自动清除:
   ├─ 曲线列表 → 空
   ├─ 步骤列表 → 空
   ├─ USV 数据 → 空
 └─ 3D 视图 → 只显示网格
   ↓
5. 状态: "已清除所有曲线和步骤"
```

---

## ?? 注意

```
?? 清除不可撤销
?? 建议先备份数据
?? 确认不再需要后再清除
```

---

## ?? 典型场景

### 重新开始

```
导入错误文件 → 清除所有 → 重新导入 ?
```

### 测试数据

```
测试数据 → 发现问题 → 清除所有 → 新数据 ?
```

### 完成项目

```
项目完成 → 导出 XML → 清除所有 → 清理界面 ?
```

---

## ?? 技术实现

### 自动触发

```
Curves.Clear()
   ↓ CollectionChanged
RefreshCurveVisualization()
   ↓ Curves.Count == 0
ClearImportedCurves()  ← 清除 3D 曲线

Steps.Clear()
   ↓ CollectionChanged
RefreshPathEditor3D()
   ↓ Steps.Count == 0
ClearStepHighlight()   ← 清除 3D 步骤
```

---

## ?? 修改的文件

| 文件 | 内容 |
|------|------|
| `ViewModels/MainViewModel.cs` | 增强清除命令 |
| `MainWindow.xaml.cs` | 自动清除 3D |

---

## ? 验证

```
1. 导入曲线
2. 生成步骤
3. 点击"清除所有"
4. 验证所有内容被清除 ?
```

---

**详细说明**: `清除所有曲线功能增强说明.md`  
**状态**: ? 已增强
