# 快速开始指南

## 欢迎使用 3D 路径编辑器 ??

本指南将帮助您快速上手 3D 路径编辑器，了解基本功能和操作方法。

---

## ?? 安装要求

### 系统要求

- **操作系统**: Windows 10/11 (64-bit)
- **框架**: .NET 8.0 Runtime
- **内存**: 最少 4GB RAM
- **显卡**: 支持 DirectX 11 的显卡

### 下载安装

1. 从 [GitHub Releases](https://github.com/chenhangwei/Path/releases) 下载最新版本
2. 解压缩到任意目录
3. 运行 `Path.exe`

---

## ?? 首次使用

### 1. 启动应用程序

双击 `Path.exe` 启动应用程序。

### 2. 界面概览

```
┌─────────────────────────────────────────────────────────┐
│ 文件  编辑  帮助                    ┌─┐ ?? ?? ? ?      │  菜单栏/工具栏
├─────────────────────────────────────────────────────────┤
│ ┌──────┐ ┌─────────────┐ ┌──────────────────────────┐  │
│ │      │ │    │ │     │  │
│ │ 步骤 │ │  USV 数据   │ │      3D 编辑器  │  │
│ │ 树形 │ │   表格      │ │         │  │
│ │ 视图 │ │             │ │     [3D 视图]            │  │
│ │      │ │             │ │       │  │
│ └──────┘ └─────────────┘ └──────────────────────────┘  │
├─────────────────────────────────────────────────────────┤
│ 就绪 | 步骤数: 0 | USV 数: 0         │  状态栏
└─────────────────────────────────────────────────────────┘
```

**界面分为三个主要区域**：

1. **左侧**: 步骤树形视图
2. **中间**: USV 数据表格
3. **右侧**: 3D 路径编辑器

---

## ?? 基本操作

### 创建第一个路径

#### 步骤 1: 添加步骤

1. 点击工具栏的 **? 添加步骤** 按钮
2. 或使用快捷键 `Ctrl+N`
3. 新步骤会出现在左侧树形视图中

#### 步骤 2: 添加 USV

1. 选中刚创建的步骤
2. 点击 **?? 添加 USV** 按钮
3. 或使用快捷键 `Ctrl+U`

#### 步骤 3: 编辑 USV 数据

在中间的数据表格中，您可以编辑：

| 字段 | 说明 | 示例 |
|------|------|------|
| **编号** | USV 标识符 | USV1 |
| **X** | X 坐标 | 100.0 |
| **Y** | Y 坐标 | 200.0 |
| **Z** | Z 坐标 | 0.0 |
| **Yaw** | 航向角（度） | 0.0 |
| **Speed** | 速度 (m/s) | 1.5 |

**提示**: 双击单元格即可编辑，按 `Enter` 确认。

#### 步骤 4: 查看 3D 效果

编辑数据后，3D 视图会**自动实时刷新**显示路径。

---

## ?? 3D 视图操作

### UG NX 风格操作

本软件采用专业 CAD 软件 UG NX 的操作风格，易于上手。

#### ??? 鼠标操作

| 操作 | 功能 | 说明 |
|------|------|------|
| **中键拖动** | 旋转视图 | 围绕场景中心旋转相机 |
| **Shift + 中键** | 平移视图 | 上下左右移动视图 |
| **滚轮** | 缩放 | 以鼠标位置为中心缩放 |
| **左键单击** | 选择点 | 选中控制点 |
| **左键拖动** | 移动点 | 拖动控制点改变位置 |
| **右键单击点** | 删除点 | 删除选中的控制点 |

#### ?? 键盘快捷键

| 快捷键 | 功能 | 说明 |
|--------|------|------|
| **F** | 适应窗口 | 自动调整视图显示所有内容 |
| **Ctrl+1** | 顶视图 | 从上往下看 (俯视) |
| **Ctrl+2** | 前视图 | 从前往后看 |
| **Ctrl+3** | 右视图 | 从右往左看 |
| **Ctrl+4** | 等轴测视图 | 45度角观察（默认视图） |
| **Home** | 重置视图 | 恢复到初始视角 |

---

## ?? 3D 视图设置

点击右侧 3D 视图上方的 **?? 3D 视图设置** 展开设置面板：

### 控制点大小

**滑块调节** (0.5x - 3.0x):
- 向左: 控制点变小
- 向右: 控制点变大

### 自动缩放

勾选 **"自动根据视图距离缩放"**:
- ? 启用: 控制点大小随相机距离自适应
- ? 禁用: 控制点保持固定大小

---

## ?? 保存和加载

### 保存项目

1. 点击 **?? 导出** 按钮
2. 或使用快捷键 `Ctrl+S`
3. 选择保存位置
4. 输入文件名（例如: `my_path.xml`）
5. 点击 **保存**

### 加载项目

1. 点击 **?? 导入** 按钮
2. 或使用快捷键 `Ctrl+O`
3. 选择之前保存的 `.xml` 文件
4. 点击 **打开**
5. 数据会自动加载并显示

---

## ?? 常用工作流程

### 场景 1: 创建简单的直线路径

1. **添加步骤** (`Ctrl+N`)
2. **添加起点 USV** (`Ctrl+U`)
   - 设置坐标: X=0, Y=0, Z=0
3. **再添加终点 USV** (`Ctrl+U`)
   - 设置坐标: X=100, Y=100, Z=0
4. **查看 3D 路径**
   - 按 `F` 适应窗口
5. **保存项目** (`Ctrl+S`)

### 场景 2: 编辑现有路径

1. **导入项目** (`Ctrl+O`)
2. **在树形视图中选择步骤**
3. **在数据表格中编辑坐标**
   - 3D 视图会实时更新
4. **使用 3D 视图微调**
   - 直接拖动控制点
5. **保存修改** (`Ctrl+S`)

### 场景 3: 多步骤路径

1. **添加步骤 1** 
   - 添加多个 USV 形成路径
2. **添加步骤 2**
   - 定义下一段路径
3. **在树形视图中切换查看**
   - 点击不同步骤查看各段路径
4. **导出完整路径**

---

## ?? 智能捕捉功能

智能捕捉帮助您精确定位控制点。

### 启用捕捉

按键盘快捷键启用/禁用：

- **F9**: 网格捕捉
- **F10**: 点捕捉
- **F11**: 中点捕捉

### 捕捉类型

| 类型 | 说明 | 提示 |
|------|------|------|
| **网格捕捉** | 对齐到网格线交点 | ?? 紫色高亮 |
| **点捕捉** | 对齐到现有控制点 | ?? 红色高亮 |
| **中点捕捉** | 对齐到线段中点 | ?? 黄色高亮 |
| **端点捕捉** | 对齐到线段端点 | ?? 绿色高亮 |
| **投影捕捉** | 投影到现有线段 | ?? 蓝色高亮 |

**使用方法**:
1. 启用所需的捕捉类型
2. 在 3D 视图中移动鼠标
3. 看到高亮提示时点击即可精确定位

详细说明见: [智能捕捉功能手册](./智能捕捉功能.md)

---

## ?? 常见问题

### 问题 1: 3D 视图无法旋转

**解决方案**: 确保使用**中键**（鼠标滚轮按下）拖动，而不是左键或右键。

### 问题 2: 数据修改后 3D 不更新

**解决方案**: 
- 按 `Tab` 或 `Enter` 确认表格编辑
- 点击其他单元格让当前编辑生效

### 问题 3: 找不到保存的文件

**解决方案**: 
- 文件默认保存为 `.xml` 格式
- 检查文件管理器的文件类型过滤器

### 问题 4: 控制点太小看不清

**解决方案**:
- 展开"3D 视图设置"
- 拖动"控制点大小"滑块到 2.0x 或更大

### 问题 5: 视图角度混乱

**解决方案**:
- 按 `Home` 键重置视图
- 或按 `Ctrl+4` 回到等轴测视图
- 按 `F` 适应窗口

---

## ?? 进阶学习

掌握基本操作后，您可以学习：

1. **[UG NX 操作指南](./UGNX操作指南.md)** - 完整的操作手册
2. **[智能捕捉功能](./智能捕捉功能.md)** - 精确定位技巧
3. **[项目结构](../01-项目概览/项目结构.md)** - 了解数据组织

---

## ?? 使用技巧

### 技巧 1: 快速创建均匀路径

1. 启用网格捕捉 (`F9`)
2. 设置网格间距为 10
3. 依次点击网格交点创建均匀间隔的点

### 技巧 2: 复制上一步的终点

1. 查看上一步的最后一个 USV 坐标
2. 在新步骤中创建 USV 时使用相同坐标
3. 实现路径的连续性

### 技巧 3: 使用标准视图检查路径

- `Ctrl+1` 顶视图 - 检查 XY 平面布局
- `Ctrl+2` 前视图 - 检查 YZ 平面高度
- `Ctrl+3` 右视图 - 检查 XZ 平面深度

### 技巧 4: 组合键盘和鼠标

- 左手快捷键（`Ctrl+1/2/3/4`, `F`）
- 右手鼠标操作（旋转、平移、缩放）
- 提高操作效率

---

## ?? 下一步

恭喜您完成快速入门！接下来您可以：

1. ? 尝试创建自己的第一个路径项目
2. ? 探索所有键盘快捷键
3. ? 阅读完整的 [UG NX 操作指南](./UGNX操作指南.md)
4. ? 学习 [智能捕捉功能](./智能捕捉功能.md) 提高精度

---

## ?? 获取帮助

- **文档**: 查看 [docs](../) 目录下的详细文档
- **问题反馈**: [GitHub Issues](https://github.com/chenhangwei/Path/issues)
- **功能建议**: 通过 Issues 提交您的想法

---

**祝您使用愉快！** ??

---

**版本**: 1.0  
**最后更新**: 2024-12-22  
**作者**: 项目团队
