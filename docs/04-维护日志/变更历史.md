# 变更历史

本文档记录项目的主要版本更新和功能变更。

---

## 版本 2.0.0 (2024-12-22)

### ?? 主要功能

#### 3D 编辑器
- ? 完整的 3D 路径可视化
- ? UG NX 风格的相机控制
- ? HelixToolkit.Wpf 集成

#### 智能捕捉系统
- ? 网格捕捉
- ? 点捕捉
- ? 中点捕捉
- ? 端点捕捉
- ? 投影捕捉

#### 实时刷新
- ? USV 数据修改后自动更新 3D 视图
- ? 保持相机状态不变
- ? 控制点大小自适应

#### UG NX 风格操作
- ? 中键旋转视图
- ? Shift+中键平移
- ? 滚轮智能缩放
- ? 标准视图切换（顶/前/右/等轴测）
- ? 快捷键支持

### ?? 技术改进

- 迁移到 .NET 8
- 实现完整的 MVVM 架构
- 使用依赖注入
- Partial Class 代码组织
- 性能优化

### ?? 文档

- 完整的项目文档体系
- 用户操作手册
- 开发指南
- API 文档

---

## 版本 1.0.0 (初始版本)

### 基础功能

- 2D 路径编辑
- XML 数据导入/导出
- 基本的数据管理
- WPF 界面

---

## 即将推出 (Roadmap)

### v2.1.0 (计划中)

#### 新功能
- [ ] 路径优化算法
- [ ] 碰撞检测
- [ ] 路径预览动画
- [ ] 多 USV 协调

#### 改进
- [ ] 更多视图选项
- [ ] 自定义颜色方案
- [ ] 导出多种格式
- [ ] 撤销/重做增强

### v2.2.0 (规划中)

#### 新功能
- [ ] 地形导入
- [ ] 障碍物标注
- [ ] 路径模拟
- [ ] 性能分析

#### 技术债务
- [ ] 单元测试覆盖
- [ ] 性能基准测试
- [ ] 代码质量改进

---

## 已知问题

### v2.0.0

1. **HelixToolkit 兼容性警告**
   - **问题**: NU1701 编译警告
 - **影响**: 无功能影响，仅编译警告
   - **状态**: 已知，可忽略
 - **计划**: 等待 HelixToolkit .NET 8 版本

2. **大数据集性能**
   - **问题**: >1000 个控制点时可能卡顿
   - **影响**: 性能下降
   - **临时方案**: 分段加载
   - **计划**: v2.1.0 优化渲染

3. **自动缩放精度**
   - **问题**: 距离计算可能不准确
   - **影响**: 控制点大小略有偏差
   - **临时方案**: 手动调整滑块
   - **计划**: v2.0.1 修复

---

## 依赖更新历史

### .NET
- v1.0.0: .NET Framework 4.7.2
- v2.0.0: .NET 8.0 ?

### NuGet 包

| 包名 | v1.0 | v2.0 |
|------|------|------|
| HelixToolkit.Wpf | 2.20.0 | 2.22.0 |
| CommunityToolkit.Mvvm | - | 8.4.0 ? |
| Microsoft.Extensions.DI | - | 8.0.0 ? |

---

## 重大变更 (Breaking Changes)

### v2.0.0

1. **数据格式变更**
   - v1.0 的 XML 格式不兼容
   - 需要手动迁移数据

2. **API 变更**
   - `PathEditor` → `PathEditor3D`
   - 2D API 已移除

3. **最低要求**
   - Windows 10+ (不再支持 Windows 7)
   - .NET 8 Runtime 必需

---

## 贡献者

感谢所有为项目做出贡献的开发者！

### v2.0.0
- 项目团队
- GitHub Copilot
- 社区反馈者

---

## 反馈和建议

欢迎通过以下方式提供反馈：

- [GitHub Issues](https://github.com/chenhangwei/Path/issues)
- [GitHub Discussions](https://github.com/chenhangwei/Path/discussions)
- 邮件联系项目维护者

---

## 许可证

本项目采用 Apache 2.0 许可证。

详见: [LICENSE](../../LICENSE)

---

**最后更新**: 2024-12-22  
**维护者**: 项目团队
